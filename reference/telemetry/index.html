<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.70.0" />
  <title>Telemetry | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://thethingsstack.io/reference/telemetry/" />
  <link rel="alternate icon" href="/favicon.ico">
  <link rel="alternate icon" type="image/png" href="/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="https://thethingsstack.io/css/theme.min.66449bb2268d8e98cc8bb71b21b0d8ce772c3f2331b05fc270c33e2edb776017.css" integrity="sha256-ZkSbsiaNjpjMi7cbIbDYzncsPyMxsF/CcMM&#43;Ltt3YBc="><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Telemetry">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Telemetry">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://thethingsstack.io/reference/telemetry/">
  <meta name="twitter:title" content="Telemetry" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
</head>


<body>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <img class="logo" src="/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.10</p>
      </a>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/devices/">Devices</a>
        <a class="navbar-item" href="/gateways/">Gateways</a>
        <a class="navbar-item" href="/integrations/">Integrations</a>
        <a class="navbar-item" href="/reference/">Reference</a>
      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="/download/">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav>
<section class="search-container">
    <div class="container">
      <div class="columns is-vcentered">
        <div class="column">
          <div class="field has-addons has-addons-centered">
            <div class="control">
              <input class="input search-bar" id="search-input" type="text" placeholder="Search" type="text">
            </div>
          </div>
        </div>
      </div>
    </div>
</section>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: "",
indexName: "thethingsstack",
inputSelector: '#search-input',
debug: false 
});
</script>

<main>
<section class="section">
  <div class="container">
    <div class="columns">
      
      <div class="column is-one-third">


<h2 class="title is-size-4">Telemetry</h2>

<ul class="menu-list">
<a href="https://thethingsstack.io/reference/telemetry/" class="is-active">Overview</a>
</ul>





      </div>
      
      <div class="column is-two-thirds">

<h1 class="title is-size-2">Telemetry</h1>

<div class="content">

<p>The Things Stack exports <a href="https://prometheus.io/">Prometheus</a> telemetry on the <code>/metrics</code> endpoint. This reference gives an overview of the most important metrics.</p>
<blockquote>
<p><strong>NOTE:</strong> Metrics are not covered by our compatibility commitment. This means that metrics may be changed or removed in major, minor, or patch releases. This page only lists metrics that are considered relatively stable, but even these metrics may be changed.</p>
</blockquote>
<h2 id="process-and-go-metrics">Process and Go Metrics</h2>
<p>The Things Stack uses the <a href="https://github.com/prometheus/client_golang/">Prometheus instrumentation library for Go</a> that includes a collector for the state of the process (on Linux) and metrics from the Go runtime.</p>
<h2 id="grpc-metrics">gRPC metrics</h2>
<p>The Things Stack uses the <a href="https://github.com/grpc-ecosystem/go-grpc-prometheus">Prometheus gRPC instrumentation library</a> that exposes metrics about gRPC method calls.</p>
<ul>
<li><code>grpc_server_conns_opened_total</code> and <code>grpc_server_conns_closed_total</code> can be used to see how many gRPC connections to The Things Stack are opened, and how many are currently open.</li>
<li><code>grpc_server_started_total</code> and <code>grpc_server_handled_total</code> can be used to see how many RPCs to The Things Stack are started, active and finished (including response code).</li>
<li><code>grpc_server_msg_sent_total</code> and <code>grpc_server_msg_received_total</code> can be used to see how many RPC messages are sent/received by the server.</li>
</ul>
<p>Similar metrics exist for gRPC client connections opened by The Things Stack, and RPCs made by The Things Stack.</p>
<h2 id="general-metrics">General Metrics</h2>
<ul>
<li><code>ttn_lw_license_expiry_seconds</code> can be used to keep track of license expiry 



  


<span class="distribution-inline">Enterprise Only</span>

</li>
<li><code>ttn_lw_log_log_messages_total</code> can be used to track the log messages written by different log namespaces at different log levels.</li>
<li><code>ttn_lw_events_publishes_total</code> can be used to track the published events by event type.</li>
<li><code>ttn_lw_events_channel_dropped_total</code> can be used to watch for dropped events, which typically indicates that a consumer (such as a user&rsquo;s web browser) can&rsquo;t keep up.</li>
</ul>
<p>For the Gateway Server:</p>
<ul>
<li><code>ttn_lw_gs_connected_gateways</code> indicates the number of connected gateways.</li>
<li><code>ttn_lw_gs_uplink_received_total</code> indicates the number of uplink messages received from gateways.</li>
<li><code>ttn_lw_gs_downlink_sent_total</code> indicates the number of downlink messages sent to gateways.</li>
<li><code>ttn_lw_gs_status_received_total</code> indicates the number of status messages received from gateways.</li>
<li><code>ttn_lw_gs_uplink_forwarded_total</code> indicates the number of uplink messages forwarded to the Network Server or Packet Broker.</li>
<li><code>ttn_lw_gs_uplink_dropped_total</code> indicates the number of uplink messages that are dropped for various reasons.</li>
</ul>
<p>For the Network Server:</p>
<ul>
<li><code>ttn_lw_ns_uplink_received_total</code> indicates the number of uplink messages received from the Gateway Server or Packet Broker.</li>
<li><code>ttn_lw_ns_uplink_duplicates_total</code> indicates the number of duplicate uplinks that are merged into a single uplink.</li>
<li><code>ttn_lw_ns_uplink_processed_total</code> indicates the number of processed uplinks, meaning uplinks that are matched to a device.</li>
<li><code>ttn_lw_ns_uplink_forwarded_total</code> indicates the number of uplinks forwarded to an Application Server.</li>
<li><code>ttn_lw_ns_uplink_dropped_total</code> indicates the number of uplinks that are dropped for various reasons.</li>
<li><code>ttn_lw_ns_downlink_attempted_total</code> indicates the number of downlink attempts.</li>
<li><code>ttn_lw_ns_downlink_forwarded_total</code> indicates the number of downlinks forwarded to the Gateway Server.</li>
<li><code>ttn_lw_ns_uplink_gateways</code> is a histogram that indicates the number of gateways that received a given uplink.</li>
</ul>
<p>For the Application Server:</p>
<ul>
<li><code>ttn_lw_as_subscriptions_started_total</code> and <code>ttn_lw_as_subscriptions_stopped_total</code> indicate the number of started/stopped uplink subscriptions from integrations and external applications.</li>
<li><code>ttn_lw_as_pubsub_integrations_started_total</code> and <code>ttn_lw_as_pubsub_integrations_stopped_total</code> indicate the number of started/stopped pub/sub integrations.</li>
<li><code>ttn_lw_as_uplink_received_total</code> indicates the number of uplink messages received from the Network Server.</li>
<li><code>ttn_lw_as_uplink_forwarded_total</code> indicates the number of uplink messages forwarded to integrations and external applications.</li>
<li><code>ttn_lw_as_uplink_dropped_total</code> indicates the number of uplink messages dropped for various reasons.</li>
<li><code>ttn_lw_as_downlink_received_total</code> indicates the number of downlink messages received from integrations and external applications.</li>
<li><code>ttn_lw_as_downlink_forwarded_total</code> indicates the number of downlink messages forwarded to the Network Server.</li>
<li><code>ttn_lw_as_downlink_dropped_total</code> indicates the number of downlink messages dropped for various reasons.</li>
<li><code>ttn_lw_javascript_run_latency_seconds</code> is a histogram that indicates the duration of executing JavaScript payload formatters.</li>
</ul>
<p>For the Join Server:</p>
<ul>
<li><code>ttn_lw_js_join_accepted_total</code> and <code>ttn_lw_js_join_rejected_total</code> indicate the number of accepted and rejected join requests.</li>
</ul>
</div>



<script>window.emojicom_widget = { campaign: "" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>


<div class="is-clearfix">
</div>




      </div>
    </div>
  </div>
</section>
</main>

<footer class="footer background-footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/getting-started/">Getting Started</a></p>
        <p><a class="" href="/devices/">Devices</a></p>
        <p><a class="" href="/gateways/">Gateways</a></p>
        <p><a class="" href="/integrations/">Integrations</a></p>
        <p><a class="" href="/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/network-and-routing/v3">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Hylke Visser on 03 Nov 2020.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/0f5643a421123f6d9ba5f21094f42b8804821dfd">
      doc: Add TTS telemetry and ECS monitoring
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/reference/telemetry/_index.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://thethingsstack.io/js/theme.min.4feb1389331adbef9047157f884dbdbd63af1c61ac83f327e60eef42f999cb26.js" integrity="sha256-T&#43;sTiTMa2&#43;&#43;QRxV/iE29vWOvHGGsg/Mn5g7vQvmZyyY="></script><script>
  window.intercomSettings = {
    app_id: "",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
