<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.70.0" />
  <title>Packet Broker Agent Options | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://thethingsstack.io/reference/configuration/packet-broker-agent/" />
  <link rel="alternate icon" href="/favicon.ico">
  <link rel="alternate icon" type="image/png" href="/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="https://thethingsstack.io/css/theme.min.66449bb2268d8e98cc8bb71b21b0d8ce772c3f2331b05fc270c33e2edb776017.css" integrity="sha256-ZkSbsiaNjpjMi7cbIbDYzncsPyMxsF/CcMM&#43;Ltt3YBc="><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Packet Broker Agent Options">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Packet Broker Agent Options">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://thethingsstack.io/reference/configuration/packet-broker-agent/">
  <meta name="twitter:title" content="Packet Broker Agent Options" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
</head>


<body>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <img class="logo" src="/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.10</p>
      </a>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/devices/">Devices</a>
        <a class="navbar-item" href="/gateways/">Gateways</a>
        <a class="navbar-item" href="/integrations/">Integrations</a>
        <a class="navbar-item" href="/reference/">Reference</a>
      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="/download/">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav>
<section class="search-container">
    <div class="container">
      <div class="columns is-vcentered">
        <div class="column">
          <div class="field has-addons has-addons-centered">
            <div class="control">
              <input class="input search-bar" id="search-input" type="text" placeholder="Search" type="text">
            </div>
          </div>
        </div>
      </div>
    </div>
</section>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: "",
indexName: "thethingsstack",
inputSelector: '#search-input',
debug: false 
});
</script>

<main>
<section class="section">
  <div class="container">
    <div class="columns">
      
      <div class="column is-one-third">


<h2 class="title is-size-4">Configuration</h2>

<ul class="menu-list">
<a href="https://thethingsstack.io/reference/configuration/" class="">Overview</a>
<li>
  <a href="https://thethingsstack.io/reference/configuration/the-things-stack/" class="">General Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/tenant-billing-server/" class="">Tenant Billing Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/application-server/" class="">Application Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/cli/" class="">Command-Line Interface Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/console/" class="">Console Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/device-claiming-server/" class="">Device Claiming Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/gateway-configuration-server/" class="">Gateway Configuration Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/gateway-server/" class="">Gateway Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/identity-server/" class="">Identity Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/join-server/" class="">Join Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/network-server/" class="">Network Server Options</a>
</li>
<li>
  <a href="https://thethingsstack.io/reference/configuration/packet-broker-agent/" class="is-active">Packet Broker Agent Options</a>
</li>
</ul>





      </div>
      
      <div class="column is-two-thirds">

<h1 class="title is-size-2">Packet Broker Agent Options</h1>

<div class="content">

<h2 id="connection-options">Connection Options</h2>
<ul>
<li><code>pba.data-plane-address</code>: Address of Packet Broker Data Plane</li>
<li><code>pba.net-id</code>: LoRa Alliance NetID</li>
<li><code>pba.tenant-id</code>: Tenant ID within the NetID</li>
<li><code>pba.cluster-id</code>: Cluster ID uniquely identifying this cluster within a NetID and tenant. The cluster ID is used for shared subscriptions (i.e. splitting traffic over multiple Packet Broker Agents) and as Forwarder ID to route downlink traffic to the right cluster</li>
</ul>
<h2 id="client-tls-options">Client TLS Options</h2>
<p>Packet Broker Agent uses TLS client authentication to connect to the configured Packet Broker Data Plane. You need to configure a client certificate which is authorized for the configured NetID and tenant ID.</p>
<ul>
<li><code>pba.tls.source</code>: Source of the TLS certificate (<code>file</code>, <code>key-vault</code>)</li>
</ul>
<p>If <code>file</code> is specified as <code>pba.tls.source</code>, the location of the certificate and key need to be configured.</p>
<ul>
<li><code>pba.tls.certificate</code>: Location of TLS certificate</li>
<li><code>pba.tls.key</code>: Location of TLS private key</li>
</ul>
<p>If <code>key-vault</code> is specified as <code>pba.tls.source</code>, the certificate with the given ID is loaded from the key vault.</p>
<ul>
<li><code>pba.tls.key-vault.id</code>: ID of the certificate</li>
</ul>
<h2 id="forwarder-options">Forwarder Options</h2>
<ul>
<li><code>pba.forwarder.enable</code>: Enable Forwarder role</li>
<li><code>pba.forwarder.worker-pool.limit</code>: Limit of active workers concurrently forwarding uplink messages and processing downlink messages</li>
<li><code>pba.forwarder.token-key</code>: AES 128 or 256-bit key for encrypting uplink tokens</li>
</ul>
<h2 id="home-network-options">Home Network Options</h2>
<ul>
<li><code>pba.home-network.enable</code>: Enable Home Network role</li>
<li><code>pba.home-network.dev-addr-prefixes</code>: DevAddr prefixes to subscribe to</li>
<li><code>pba.home-network.worker-pool.limit</code>: Limit of active workers concurrently processing uplink messages and publishing downlink messages</li>
<li><code>pba.home-network.blacklist-forwarder</code>: Blacklist traffic from Forwarder to avoid traffic loops. Enable this when you have the Forwarder role enabled and overlapping forwarding ranges in <code>gs.forward</code> (see <a href="/reference/configuration/gateway-server/">configuration</a>). Only disable this for testing.</li>
</ul>

</div>

<script>window.emojicom_widget = { campaign: "" };</script>
<script src="https://cdn.emojicom.io/embed/widget.js" async></script>

<div class='feedback has-vertical-space'>
  <div id="emojicom-widget-inline"></div>
</div>
<div class="is-clearfix">
<a class="button is-pulled-left" href="/reference/configuration/network-server/">‚Üê Network Server Options</a>
</div>


      </div>
    </div>
  </div>
</section>
</main>

<footer class="footer background-footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/getting-started/">Getting Started</a></p>
        <p><a class="" href="/devices/">Devices</a></p>
        <p><a class="" href="/gateways/">Gateways</a></p>
        <p><a class="" href="/integrations/">Integrations</a></p>
        <p><a class="" href="/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/network-and-routing/v3">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by Johan Stokking on 03 Apr 2020.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/2c0437366bba968e6ae39987c3da88a160af09f2">
      doc: Document Packet Broker Agent
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/reference/configuration/packet-broker-agent.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://thethingsstack.io/js/theme.min.4feb1389331adbef9047157f884dbdbd63af1c61ac83f327e60eef42f999cb26.js" integrity="sha256-T&#43;sTiTMa2&#43;&#43;QRxV/iE29vWOvHGGsg/Mn5g7vQvmZyyY="></script><script>
  window.intercomSettings = {
    app_id: "",
  };
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>

</body>

</html>
